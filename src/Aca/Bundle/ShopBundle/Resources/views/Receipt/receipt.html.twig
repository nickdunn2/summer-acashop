{% extends "::base.html.twig" %}

{% block body %}
    <h3>Thanks for your order!</h3>

    <!-- Show order Id -->
    <p>Confirmation number: {{ orderId }}</p>

    <!-- Show billing and shipping address -->
    <table border="1" style="width:100%">

        <tr>

            <!-- Billing -->
            <td style="padding: 1em">
                <h4>Billing Address</h4>
                {{ billing.street }}
                <br/>
                {{ billing.city }}, {{ billing.state }} {{ billing.zip }}
            </td>

            <!-- Shipping -->
            <td style="padding: 1em">
                <h4>Shipping Address</h4>
                {{ shipping.street }}
                <br/>
                {{ shipping.city }}, {{ shipping.state }} {{ shipping.zip }}
            </td>

        </tr>

    </table>

    <!-- Show order products -->
    <br/>
    <h3>You purchased the following item(s):</h3>

    <table class="table table-striped" style="width:100%;">
        <thead>
            <tr>
                <th>Image</th>
                <th>Product Details</th>
                <th>Quantity</th>
                <th>Subtotal</th>
            </tr>
        </thead>
        <tbody>
            {% for product in products %}

                <tr>
                    <td>
                        <img src="{{ product.image }}" width="100px"/>
                    </td>
                    <td>
                        <h3>{{ product.name }}</h3>
                        <p>{{ product.description }}</p>
                    </td>
                    <td style="width:200px;">
                        <b>{{ product.quantity }} (at ${{ product.price }} each)</b>
                    </td>
                    <td>
                        <b>${{ product.total_price|number_format(2) }}</b>
                    </td>

                </tr>

            {% endfor %}
        </tbody>
    </table>

    <div style="float:right;">
        <h3 style="color:green">Grand Total: ${{ grandTotal|number_format(2) }}</h4>
    </div>


{% endblock %}